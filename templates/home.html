{% extends 'base.html' %}

{% block title %} {{ title }} {% endblock %}
{% block body %} 
<div class="flex_contents">
    <div class="navbars">
          <nav>
              <p>Music Player</p>
              <div class="links">
                  <div class="link"><a href="{% url 'home' %}"><i class="fa-solid fa-house"></i> Home</a></div>
                  <div class="link"><a href="{% url 'favourites' %}"><i class="fa-solid fa-heart"></i> Favourite</a></div>
                  {% if role.roles == 'Artist' %}
                  <div class="link"><a href="{% url 'uploads' %}"><i class="fa-solid fa-upload"></i> Uploads</a></div>
                  {% endif %}
                  <div class="link"><a href="{% url 'profiles' %}"><i class="fa-solid fa-user"></i> Profile</a></div>
                  <div class="link"><a href="{% url 'logout' %}">Logout</a></div>
              </div>
          </nav>
    </div>
    <div class="body">
          <div class="searchsongs">
              <form action="" method="post">
                  {% csrf_token %}
                  <div class="form-group">
                      <input type="search" name="searchitems" autocomplete="off" id="searchitems" class="form-control" placeholder="Search songs,Artists...">
                  </div>
              </form>
          </div>
          <div class="container">
           {% if songs != 'nosongs' %}
              <table style="width: 100%;">
                  <thead>
                      <th>Title</th>
                      <th>Song</th>
                      <th>Type</th>
                      <th>Artist</th>
                      <th>Album</th>
                      <th>Lyrics</th>
                      <th>Action</th>
                  </thead>
                  <tbody>
                    {% for song in songs %}
                        <tr>
                            <td>{{ song.songtitle }}</td>
                            <td>
                                <audio controls>
                                <source src="{{ song.songfile.url }}" type="audio/mp3">
                                <source src="{{ song.songfile.url }}" type="audio/mp3">
                                </audio>
                            </td>
                            <td>{{ song.songtype }}</td>
                            <td>{{ song.artists.username }} </td>
                            <td>{{ song.songalbum }}</td>
                            <td><a href="{% url 'getlyrics' song.id %}">Lyrics</a></td>
                            <td><a href="{% url 'savefavourites' song.id %}" id="favs">Favourite</a></td>
                        </tr>
                    {% endfor %}
                  </tbody>
              </table>
           {% endif %}
          </div>
    </div>
</div>
{% endblock %}